<!DOCTYPE html>
<html ng-app="optionsApp" ng-csp>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" type="text/css" href="common.css" />
    <link rel="stylesheet" type="text/css" href="tabs.css" />
    <!-- angular -->
    <script src="lib/angular.min.js" type="text/javascript"></script>    
    <link rel="stylesheet" type="text/css" href="lib/angular-csp.css" />
    <!--
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.20/angular-csp.css" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.20/angular.js" type="text/javascript"></script>
    -->
    <script src="common.js" type="text/javascript"></script>
    <script src="options.js" type="text/javascript"></script>
    <style>
      body { min-width: 600px;}
    </style>
  </head>
  <body ng-controller="OptionsController as o">

    <ng-include src="'partials/header.html'"></ng-include>

    <div id="content">

      <div id="tabs-container">

        <ul class="tabs-menu">

          <li ng-class="{current: tab == 'websites'}">
            <a ng-click="tab = 'websites'">Nettsteder</a>
          </li>

          <li ng-class="{current: tab == 'replacement'}">
            <a ng-click="tab = 'replacement'">Erstatning</a>
          </li>

        </ul>

        <div class="tab">

          <div class="tab-content" ng-class="{current: tab == 'replacement'}">

            <b>Erstatt innhold med..</b><br>

            <label ng-repeat="repl in replacements">
              <input type="radio" name="replaceWith" value="{{repl.id}}" ng-model="options.replaceWith"> {{repl.title}}
            </label>

            <div ng-show="isPlaceholderImage">

              <br>
              <b>Forh√•ndsvisning (bildene vil variere)</b><br>

              <img ng-src="{{placeholderPreviewImage(150, 203)}}" class="placeholderPreview" style="filter: {{filtersCSS}}; -webkit-filter: {{filtersCSS}}; float: left; margin-right: 3px;" />
              <img ng-src="{{placeholderPreviewImage(150, 101)}}" class="placeholderPreview" style="filter: {{filtersCSS}}; -webkit-filter: {{filtersCSS}}" />
              <img ng-src="{{placeholderPreviewImage(300, 101)}}" class="placeholderPreview" style="filter: {{filtersCSS}}; -webkit-filter: {{filtersCSS}}" /><br />
              <img ng-src="{{placeholderPreviewImage(250, 101)}}" class="placeholderPreview" style="filter: {{filtersCSS}}; -webkit-filter: {{filtersCSS}}" />
              <img ng-src="{{placeholderPreviewImage(200, 101)}}" class="placeholderPreview" style="filter: {{filtersCSS}}; -webkit-filter: {{filtersCSS}}" />

              <br />
              <b style="clear: both">Justeringer</b><br/>

              <div id="filters">
                <div ng-repeat="f in filters">
                  <input type="range" min="{{f.min}}" max="{{f.max}}" step="0.1" ng-model="f.value" ng-dblclick="f.value = f.default">
                  <label title="{{f._title}}">{{f.title}}</label> ({{f.value}}{{f.unit}})
                </div>
              </div>
            </div>

          </div>

          <div class="tab-content" ng-class="{current: tab == 'websites'}">

            <span ng-repeat="site in siteRules | sort:'title'">
              <h3>{{site.title}}</h3>
              <label class="contentTypeFilter" ng-repeat="cg in site.contentGroups | sort:'title'">
                <input type="checkbox" ng-model="cg.enabled"> {{cg.title}}
              </label>
            </span>

          </div>

        </div>

      </div>

      <p>
        <input type="button" id="saveButton" ng-click="save()" value="Lagre" />
        <input type="button" id="resetSiteRulesButton" ng-click="resetSiteRules()" value="Nullstill" />
      </p>

      <span ng-show="saved" id="saved">
        Innstillingene er lagret!
      </span>

    </div>

  </body>
</html>